!function(a,b){'object'==typeof exports?module.exports=b(a,require('jquery')):'function'==typeof define&&define.amd?define(['jquery'],function(c){return b(a,c)}):b(a,a.jQuery)}(this,function(a,b,c){b.fn.vmenu=function(c){function d(a){var b=a.parent('ul');if(!b.parent().is('.ue-vmenu')){var e=b.parent('li');b.slideDown(c.speed,function(){e.addClass("on"),e.children(".inactive").removeClass(),e.children("a").addClass("active")}),d(e)}}var e=b(this),f=e.find('ul li');a.location;c=jQuery.extend({speed:220,autostart:0,autohide:1},c);var g=f.children('ul').parent('li').children('a');g.addClass('inactive'),g.prepend('<i class="ue-vmenu-icon"></i>');var h=e.find('a[data-role=leaf]');h.prepend('<i class="ue-vmenu-icon leaf"></i>'),g.unbind('click').click(function(){var a=b(this);c.autohide&&a.parent().parent().find('.active').next().slideUp(c.speed/1.2,function(){b(this).parent("li").children("a").addClass('inactive').removeClass('active')}),a.hasClass('active')?a.attr('class','inactive').next().slideUp(c.speed):a.next().slideDown(c.speed,function(){a.addClass('active').removeClass('inactive')})}),e.unbind('click').on('click','a',function(){var a=b(this),d=a.parent(),f=d.siblings('.on');c.autohide&&f.removeClass('on'),a.find('.ue-vmenu-icon').length&&!a.find('.ue-vmenu-icon.leaf').length?d.hasClass('on')?d.removeClass('on'):d.addClass('on'):(e.find('.curr').removeClass('curr'),d.addClass('curr'))}),c.autostart&&f.children('a').each(function(){var a=b(this).parent('li');d(a)})}});