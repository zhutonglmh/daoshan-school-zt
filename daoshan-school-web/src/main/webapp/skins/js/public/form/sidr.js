!function(a,b){'object'==typeof exports?module.exports=b(a,require('jquery')):'function'==typeof define&&define.amd?define(['jquery'],function(c){return b(a,c)}):b(a,a.jQuery)}(this,function(a,b,c){var d=!1,e=!1,f={isUrl:function(a){var b=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$",'i');return!!b.test(a)},loadContent:function(a,b){a.html(b)},addPrefix:function(a){var b=a.attr('id'),c=a.attr('class');'string'==typeof b&&''!==b&&a.attr('id',b.replace(/([A-Za-z0-9_.\-]+)/g,'sidr-id-$1')),'string'==typeof c&&''!==c&&'sidr-inner'!==c&&a.attr('class',c.replace(/([A-Za-z0-9_.\-]+)/g,'sidr-class-$1')),a.removeAttr('style')},execute:function(a,c,f){'function'==typeof c?(f=c,c='sidr'):c||(c='sidr');var h,i,j,k=b('#'+c),l=b(k.data('body')),m=b('html'),n=k.outerWidth(!0),o=k.data('speed'),p=k.data('side'),q=k.data('displace'),r=k.data('onOpen'),s=k.data('onClose'),t='sidr'===c?'sidr-open':'sidr-open '+c+'-open';if('open'===a||'toggle'===a&&!k.is(':visible')){if(k.is(':visible')||d)return;if(e!==!1)return void g.close(e,function(){g.open(c)});d=!0,'left'===p?(h={left:n+'px'},i={left:'0px'}):(h={right:n+'px'},i={right:'0px'}),l.is('body')&&(j=m.scrollTop(),m.css('overflow-x','hidden').scrollTop(j)),q?l.addClass('sidr-animating').css({width:l.width(),position:'absolute'}).animate(h,o,function(){b(this).addClass(t)}):setTimeout(function(){b(this).addClass(t)},o),k.css('display','block').animate(i,o,function(){d=!1,e=c,'function'==typeof f&&f(c),l.removeClass('sidr-animating')}),r()}else{if(!k.is(':visible')||d)return;d=!0,'left'===p?(h={left:0},i={left:'-'+n+'px'}):(h={right:0},i={right:'-'+n+'px'}),l.is('body')&&(j=m.scrollTop(),m.removeAttr('style').scrollTop(j)),l.addClass('sidr-animating').animate(h,o).removeClass(t),k.animate(i,o,function(){k.removeAttr('style').hide(),l.removeAttr('style'),b('html').removeAttr('style'),d=!1,e=!1,'function'==typeof f&&f(c),l.removeClass('sidr-animating')}),s()}}},g={open:function(a,b){f.execute('open',a,b)},close:function(a,b){f.execute('close',a,b)},toggle:function(a,b){f.execute('toggle',a,b)},toogle:function(a,b){f.execute('toggle',a,b)}};b.sidr=function(a){return g[a]?g[a].apply(this,Array.prototype.slice.call(arguments,1)):'function'!=typeof a&&'string'!=typeof a&&a?void b.error('Method '+a+' does not exist on jQuery.sidr'):g.toggle.apply(this,arguments)},b.fn.sidr=function(a){var c=b.extend({name:'sidr',speed:200,side:'left',source:null,renaming:!0,body:'body',displace:!0,onOpen:function(){},onClose:function(){}},a),d=c.name,e=b('#'+d);if(0===e.length&&(e=b('<div />').attr('id',d).appendTo(b('body'))),e.addClass('sidr').addClass(c.side).data({speed:c.speed,side:c.side,body:c.body,displace:c.displace,onOpen:c.onOpen,onClose:c.onClose}),'function'==typeof c.source){var h=c.source(d);f.loadContent(e,h)}else if('string'==typeof c.source&&f.isUrl(c.source))b.get(c.source,function(a){f.loadContent(e,a)});else if('string'==typeof c.source){var i='',j=c.source.split(',');if(b.each(j,function(a,c){i+='<div class="sidr-inner">'+b(c).html()+'</div>'}),c.renaming){var k=b('<div />').html(i);k.find('*').each(function(a,c){var d=b(c);f.addPrefix(d)}),i=k.html()}f.loadContent(e,i)}else null!==c.source&&b.error('Invalid Sidr Source');return this.each(function(){var a=b(this),c=a.data('sidr');c||(a.data('sidr',d),'ontouchstart'in document.documentElement?(a.bind('touchstart',function(a){a.originalEvent.touches[0];this.touched=a.timeStamp}),a.bind('touchend',function(a){var b=Math.abs(a.timeStamp-this.touched);b<200&&(a.preventDefault(),g.toggle(d))})):a.click(function(a){a.preventDefault(),g.toggle(d)}))})}});